<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Snake</title>		
		<!-- Jquery -->
		<script src="./js/lib/jquery.min.js" type="text/javascript"></script>
		<script src="./js/lib/socket.io.min.js" type="text/javascript"></script>
		<script src="./js/game.js" type="text/javascript"></script>
		<script src="//connect.facebook.net/en_US/sdk.js"></script>
	</head>
	<body>
		<canvas id="canvas" width="450" height="450"></canvas>
		<div class="main-screen">
			<a href="javascript:;" class="start-game">Start new game</a>
			<p class="status"></p>
		</div>
		<script>
		function onStatusChange(response) {
		if( response.status != 'connected' ) {
			login(loginCallback);
		} 
		
		function loginCallback(response) {
		  console.log('loginCallback',response);
			  if(response.status != 'connected') {
				top.location.href = 'https://www.facebook.com/appcenter/YOUR_APP_NAMESPACE';
			  }
			}
		}
		
		function onAuthResponseChange(response) {
		  console.log('onAuthResponseChange', response);
		}

		window.fbAsyncInit = function() {
			FB.init({
			appId      : '131051383772578',
			xfbml      : true,
			version    : 'v2.2'
			});
		
			// ADD ADDITIONAL FACEBOOK CODE HERE
			FB.Event.subscribe('auth.authResponseChange', onAuthResponseChange);
			FB.Event.subscribe('auth.statusChange', onStatusChange);
		};
		
		(function(d, s, id){
			var js, fjs = d.getElementsByTagName(s)[0];
			if (d.getElementById(id)) {return;}
			js = d.createElement(s); js.id = id;
			js.src = "//connect.facebook.net/en_US/sdk.js";
			fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));
		</script>
	</body>
</html>